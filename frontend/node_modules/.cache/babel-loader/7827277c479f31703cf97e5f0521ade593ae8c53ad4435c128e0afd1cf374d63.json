{"ast":null,"code":"const getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\nconst handleCart = (state = getInitialCart(), action) => {\n  const product = action.payload;\n  let updatedCart;\n  switch (action.type) {\n    case \"ADDITEM\":\n      const exist = state.find(x => x.id === product.id);\n      if (exist) {\n        updatedCart = state.map(x => x.id === product.id ? {\n          ...x,\n          qty: x.qty + 1\n        } : x);\n      } else {\n        updatedCart = [...state, {\n          ...product,\n          qty: 1\n        }];\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n    case \"DELITEM\":\n      const exist2 = state.find(x => x.id === product.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter(x => x.id !== exist2.id);\n      } else {\n        updatedCart = state.map(x => x.id === product.id ? {\n          ...x,\n          qty: x.qty - 1\n        } : x);\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n    default:\n      return state;\n  }\n};\nexport default handleCart;","map":{"version":3,"names":["getInitialCart","storedCart","localStorage","getItem","JSON","parse","handleCart","state","action","product","payload","updatedCart","type","exist","find","x","id","map","qty","setItem","stringify","exist2","filter"],"sources":["C:/Users/zeelp/Desktop/E-Commerce_frontend/frontend/src/redux/reducer/handleCart.js"],"sourcesContent":["const getInitialCart = () => {\r\n  const storedCart = localStorage.getItem(\"cart\");\r\n  return storedCart ? JSON.parse(storedCart) : [];\r\n};\r\n\r\nconst handleCart = (state = getInitialCart(), action) => {\r\n  const product = action.payload;\r\n  let updatedCart;\r\n\r\n  switch (action.type) {\r\n    case \"ADDITEM\":\r\n      const exist = state.find((x) => x.id === product.id);\r\n      if (exist) {\r\n        updatedCart = state.map((x) =>\r\n          x.id === product.id ? { ...x, qty: x.qty + 1 } : x\r\n        );\r\n      } else {\r\n        updatedCart = [...state, { ...product, qty: 1 }];\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n      return updatedCart;\r\n\r\n    case \"DELITEM\":\r\n      const exist2 = state.find((x) => x.id === product.id);\r\n      if (exist2.qty === 1) {\r\n        updatedCart = state.filter((x) => x.id !== exist2.id);\r\n      } else {\r\n        updatedCart = state.map((x) =>\r\n          x.id === product.id ? { ...x, qty: x.qty - 1 } : x\r\n        );\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n      return updatedCart;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default handleCart;"],"mappings":"AAAA,MAAMA,cAAc,GAAGA,CAAA,KAAM;EAC3B,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC/C,OAAOF,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG,EAAE;AACjD,CAAC;AAED,MAAMK,UAAU,GAAGA,CAACC,KAAK,GAAGP,cAAc,CAAC,CAAC,EAAEQ,MAAM,KAAK;EACvD,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;EAC9B,IAAIC,WAAW;EAEf,QAAQH,MAAM,CAACI,IAAI;IACjB,KAAK,SAAS;MACZ,MAAMC,KAAK,GAAGN,KAAK,CAACO,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,CAAC;MACpD,IAAIH,KAAK,EAAE;QACTF,WAAW,GAAGJ,KAAK,CAACU,GAAG,CAAEF,CAAC,IACxBA,CAAC,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,GAAG;UAAE,GAAGD,CAAC;UAAEG,GAAG,EAAEH,CAAC,CAACG,GAAG,GAAG;QAAE,CAAC,GAAGH,CACnD,CAAC;MACH,CAAC,MAAM;QACLJ,WAAW,GAAG,CAAC,GAAGJ,KAAK,EAAE;UAAE,GAAGE,OAAO;UAAES,GAAG,EAAE;QAAE,CAAC,CAAC;MAClD;MACAhB,YAAY,CAACiB,OAAO,CAAC,MAAM,EAAEf,IAAI,CAACgB,SAAS,CAACT,WAAW,CAAC,CAAC;MACzD,OAAOA,WAAW;IAEpB,KAAK,SAAS;MACZ,MAAMU,MAAM,GAAGd,KAAK,CAACO,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,CAAC;MACrD,IAAIK,MAAM,CAACH,GAAG,KAAK,CAAC,EAAE;QACpBP,WAAW,GAAGJ,KAAK,CAACe,MAAM,CAAEP,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKK,MAAM,CAACL,EAAE,CAAC;MACvD,CAAC,MAAM;QACLL,WAAW,GAAGJ,KAAK,CAACU,GAAG,CAAEF,CAAC,IACxBA,CAAC,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,GAAG;UAAE,GAAGD,CAAC;UAAEG,GAAG,EAAEH,CAAC,CAACG,GAAG,GAAG;QAAE,CAAC,GAAGH,CACnD,CAAC;MACH;MACAb,YAAY,CAACiB,OAAO,CAAC,MAAM,EAAEf,IAAI,CAACgB,SAAS,CAACT,WAAW,CAAC,CAAC;MACzD,OAAOA,WAAW;IAEpB;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}