{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\zeelp\\\\Desktop\\\\E-Commerce_frontend\\\\frontend\\\\src\\\\pages\\\\Checkout.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Footer, Navbar } from \"../components\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const state = useSelector(state => state.handleCart);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n  const [scriptLoaded, setScriptLoaded] = useState(false);\n  const [cartData, setCartData] = useState([]);\n  const {\n    user,\n    isAuthenticated\n  } = useAuth0();\n  useEffect(() => {\n    const fetchCartItems = async () => {\n      if (user.email && isAuthenticated) {\n        try {\n          const response = await axios.get(`http://localhost:8080/cart/allcartitem`, {\n            params: {\n              email: user.email\n            } // Query parameter\n          });\n          setCartData(response.data);\n          console.log(response.data);\n        } catch (error) {\n          console.error(\"Error fetching cart:\", error);\n        }\n      }\n    };\n    fetchCartItems();\n  }, [user.email, isAuthenticated]); // Include isAuthenticated in dependencies\n\n  // Load Razorpay script\n  useEffect(() => {\n    const loadRazorpayScript = () => {\n      const script = document.createElement(\"script\");\n      script.src = \"https://checkout.razorpay.com/v1/checkout.js\";\n      script.async = true;\n      script.onload = () => {\n        setScriptLoaded(true);\n        console.log(\"Razorpay script loaded successfully\");\n      };\n      script.onerror = () => {\n        console.error(\"Failed to load Razorpay script\");\n        setError(\"Failed to load payment gateway. Please try again later.\");\n      };\n      document.body.appendChild(script);\n    };\n    if (!window.Razorpay) {\n      loadRazorpayScript();\n    } else {\n      setScriptLoaded(true);\n    }\n    return () => {\n      // Cleanup if needed\n    };\n  }, []);\n  const EmptyCart = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 py-5 bg-light text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"p-3 display-5\",\n            children: \"No item in Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"btn btn-outline-dark mx-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-arrow-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), \" Continue Shopping\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  };\n  const ShowCheckout = () => {\n    let subtotal = cartData.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n    let shipping = 30.0;\n    let totalItems = cartData.reduce((sum, item) => sum + item.quantity, 0);\n    state.map(item => {\n      return subtotal += item.price * item.qty;\n    });\n    state.map(item => {\n      return totalItems += item.qty;\n    });\n\n    // Verify payment with the server\n    const verifyPayment = async response => {\n      try {\n        const verificationData = {\n          razorpayOrderId: response.razorpay_order_id,\n          razorpayPaymentId: response.razorpay_payment_id,\n          razorpaySignature: response.razorpay_signature\n        };\n        const verificationResponse = await axios.post(\"http://localhost:8080/api/verify-payment\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(verificationData)\n        });\n        const verificationResult = await verificationResponse.json();\n        if (verificationResult.status === \"success\") {\n          setPaymentSuccess(true);\n          // Here you would typically redirect to a success page or clear the cart\n        } else {\n          setError(\"Payment verification failed. Please try again.\");\n        }\n      } catch (err) {\n        console.error(\"Error verifying payment:\", err);\n        setError(\"Error verifying payment. Please contact support.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Handling Razorpay Payment\n    const handlePayment = async () => {\n      if (!scriptLoaded) {\n        setError(\"Payment gateway is still loading. Please try again in a moment.\");\n        return;\n      }\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Call the server to create a Razorpay order\n        const response = await axios.post(\"http://localhost:8080/api/create-razorpay-order\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            amount: Math.round(subtotal + shipping),\n            currency: \"INR\"\n          })\n        });\n        if (!response.ok) {\n          throw new Error(\"Failed to create order\");\n        }\n        const data = await response.json();\n        const orderData = JSON.parse(data.orderData);\n\n        // Get Razorpay key from environment or use fallback\n        const razorpayKeyId = process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID || \"rzp_test_YOUR_TEST_KEY\";\n\n        // Initialize Razorpay\n        const options = {\n          key: razorpayKeyId,\n          amount: orderData.amount,\n          currency: orderData.currency,\n          name: \"Your Store Name\",\n          description: \"Order Payment\",\n          image: \"https://your-store-logo-url\",\n          // Your logo URL here\n          order_id: orderData.id,\n          handler: response => {\n            verifyPayment(response);\n          },\n          prefill: {\n            name: \"John Doe\",\n            // Add dynamic values for the user here\n            email: \"johndoe@example.com\",\n            contact: \"+919876543210\"\n          },\n          notes: {\n            address: \"Razorpay Address\",\n            is_test: \"true\"\n          },\n          theme: {\n            color: \"#F37254\"\n          },\n          // Enable this for test mode\n          modal: {\n            ondismiss: () => {\n              setLoading(false);\n              console.log(\"Payment modal closed\");\n            }\n          },\n          // For testing failed payments\n          config: {\n            display: {\n              blocks: {\n                utib: {\n                  // Axis Bank Test Cards\n                  name: \"Test Payment Methods\",\n                  instruments: [{\n                    method: \"card\",\n                    issuers: [\"UTIB\"]\n                  }]\n                }\n              },\n              sequence: [\"block.utib\"],\n              preferences: {\n                show_default_blocks: false\n              }\n            }\n          }\n        };\n        const razorpay = new window.Razorpay(options);\n\n        // For testing, you can use these test card details:\n        // Card Number: 4111 1111 1111 1111\n        // Expiry: Any future date\n        // CVV: Any 3 digits\n        // Name: Any name\n\n        razorpay.on(\"payment.failed\", response => {\n          setLoading(false);\n          setError(`Payment failed: ${response.error.description}`);\n        });\n        razorpay.open();\n      } catch (error) {\n        console.error(\"Error creating Razorpay order:\", error);\n        setError(\"Failed to initialize payment. Please try again.\");\n        setLoading(false);\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5\",\n        children: [paymentSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          role: \"alert\",\n          children: \"Payment successful! Thank you for your order.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5 col-lg-4 order-md-last\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header py-3 bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-0\",\n                  children: \"Order Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-group list-group-flush\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\",\n                    children: [\"Products (\", totalItems, \")\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ['\\u20B9', Math.round(subtotal)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 46\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item d-flex justify-content-between align-items-center px-0\",\n                    children: [\"Shipping\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ['\\u20B9', shipping]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Total amount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: ['\\u20B9', Math.round(subtotal + shipping)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-7 col-lg-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"mb-0\",\n                  children: \"Billing address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"needs-validation\",\n                  noValidate: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n                    className: \"my-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"mb-3\",\n                    children: \"Payment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"w-100 btn btn-primary\",\n                    type: \"button\",\n                    onClick: handlePayment,\n                    disabled: loading || !scriptLoaded,\n                    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm me-2\",\n                        role: \"status\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 27\n                      }, this), \"Processing...\"]\n                    }, void 0, true) : !scriptLoaded ? \"Loading payment gateway...\" : \"Continue to checkout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3 py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), state.length ? /*#__PURE__*/_jsxDEV(ShowCheckout, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyCart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Checkout, \"7CmC2V3nYL08CMVSW2V/mEDisDM=\", false, function () {\n  return [useSelector, useAuth0];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","Footer","Navbar","useSelector","Link","useAuth0","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","state","handleCart","loading","setLoading","error","setError","paymentSuccess","setPaymentSuccess","scriptLoaded","setScriptLoaded","cartData","setCartData","user","isAuthenticated","fetchCartItems","email","response","get","params","data","console","log","loadRazorpayScript","script","document","createElement","src","async","onload","onerror","body","appendChild","window","Razorpay","EmptyCart","className","children","fileName","lineNumber","columnNumber","to","ShowCheckout","subtotal","reduce","sum","item","product","price","quantity","shipping","totalItems","map","qty","verifyPayment","verificationData","razorpayOrderId","razorpay_order_id","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","verificationResponse","post","method","headers","JSON","stringify","verificationResult","json","status","err","handlePayment","amount","Math","round","currency","ok","Error","orderData","parse","razorpayKeyId","process","env","NEXT_PUBLIC_RAZORPAY_KEY_ID","options","key","name","description","image","order_id","id","handler","prefill","contact","notes","address","is_test","theme","color","modal","ondismiss","config","display","blocks","utib","instruments","issuers","sequence","preferences","show_default_blocks","razorpay","on","open","role","noValidate","type","onClick","disabled","length","_c","$RefreshReg$"],"sources":["C:/Users/zeelp/Desktop/E-Commerce_frontend/frontend/src/pages/Checkout.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Footer, Navbar } from \"../components\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport axios from \"axios\"\r\n\r\nconst Checkout = () => {\r\n  const state = useSelector((state) => state.handleCart)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false)\r\n  const [scriptLoaded, setScriptLoaded] = useState(false)\r\n  const [cartData, setCartData] = useState([]);\r\n  const { user, isAuthenticated } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    const fetchCartItems = async () => {\r\n      if (user.email && isAuthenticated) {\r\n        try {\r\n          const response = await axios.get(`http://localhost:8080/cart/allcartitem`, {\r\n            params: { email: user.email }, // Query parameter\r\n          });\r\n          setCartData(response.data);\r\n          console.log(response.data);\r\n        } catch (error) {\r\n          console.error(\"Error fetching cart:\", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchCartItems();\r\n  }, [user.email, isAuthenticated]); // Include isAuthenticated in dependencies\r\n\r\n  // Load Razorpay script\r\n  useEffect(() => {\r\n    const loadRazorpayScript = () => {\r\n      const script = document.createElement(\"script\")\r\n      script.src = \"https://checkout.razorpay.com/v1/checkout.js\"\r\n      script.async = true\r\n      script.onload = () => {\r\n        setScriptLoaded(true)\r\n        console.log(\"Razorpay script loaded successfully\")\r\n      }\r\n      script.onerror = () => {\r\n        console.error(\"Failed to load Razorpay script\")\r\n        setError(\"Failed to load payment gateway. Please try again later.\")\r\n      }\r\n      document.body.appendChild(script)\r\n    }\r\n\r\n    if (!window.Razorpay) {\r\n      loadRazorpayScript()\r\n    } else {\r\n      setScriptLoaded(true)\r\n    }\r\n\r\n    return () => {\r\n      // Cleanup if needed\r\n    }\r\n  }, [])\r\n\r\n  const EmptyCart = () => {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 py-5 bg-light text-center\">\r\n            <h4 className=\"p-3 display-5\">No item in Cart</h4>\r\n            <Link to=\"/\" className=\"btn btn-outline-dark mx-4\">\r\n              <i className=\"fa fa-arrow-left\"></i> Continue Shopping\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const ShowCheckout = () => {\r\n    let subtotal = cartData.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\r\n    let shipping = 30.0;\r\n    let totalItems = cartData.reduce((sum, item) => sum + item.quantity, 0);\r\n\r\n    state.map((item) => {\r\n      return (subtotal += item.price * item.qty)\r\n    })\r\n\r\n    state.map((item) => {\r\n      return (totalItems += item.qty)\r\n    })\r\n\r\n    // Verify payment with the server\r\n    const verifyPayment = async (response) => {\r\n      try {\r\n        const verificationData = {\r\n          razorpayOrderId: response.razorpay_order_id,\r\n          razorpayPaymentId: response.razorpay_payment_id,\r\n          razorpaySignature: response.razorpay_signature,\r\n        }\r\n\r\n        const verificationResponse = await axios.post(\"http://localhost:8080/api/verify-payment\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(verificationData),\r\n        })\r\n\r\n        const verificationResult = await verificationResponse.json()\r\n\r\n        if (verificationResult.status === \"success\") {\r\n          setPaymentSuccess(true)\r\n          // Here you would typically redirect to a success page or clear the cart\r\n        } else {\r\n          setError(\"Payment verification failed. Please try again.\")\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error verifying payment:\", err)\r\n        setError(\"Error verifying payment. Please contact support.\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    // Handling Razorpay Payment\r\n    const handlePayment = async () => {\r\n      if (!scriptLoaded) {\r\n        setError(\"Payment gateway is still loading. Please try again in a moment.\")\r\n        return\r\n      }\r\n\r\n      try {\r\n        setLoading(true)\r\n        setError(null)\r\n\r\n        // Call the server to create a Razorpay order\r\n        const response = await axios.post(\"http://localhost:8080/api/create-razorpay-order\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            amount: Math.round(subtotal + shipping),\r\n            currency: \"INR\",\r\n          }),\r\n        })\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to create order\")\r\n        }\r\n\r\n        const data = await response.json()\r\n        const orderData = JSON.parse(data.orderData)\r\n\r\n        // Get Razorpay key from environment or use fallback\r\n        const razorpayKeyId = process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID || \"rzp_test_YOUR_TEST_KEY\"\r\n\r\n        // Initialize Razorpay\r\n        const options = {\r\n          key: razorpayKeyId,\r\n          amount: orderData.amount,\r\n          currency: orderData.currency,\r\n          name: \"Your Store Name\",\r\n          description: \"Order Payment\",\r\n          image: \"https://your-store-logo-url\", // Your logo URL here\r\n          order_id: orderData.id,\r\n          handler: (response) => {\r\n            verifyPayment(response)\r\n          },\r\n          prefill: {\r\n            name: \"John Doe\", // Add dynamic values for the user here\r\n            email: \"johndoe@example.com\",\r\n            contact: \"+919876543210\",\r\n          },\r\n          notes: {\r\n            address: \"Razorpay Address\",\r\n            is_test: \"true\",\r\n          },\r\n          theme: {\r\n            color: \"#F37254\",\r\n          },\r\n          // Enable this for test mode\r\n          modal: {\r\n            ondismiss: () => {\r\n              setLoading(false)\r\n              console.log(\"Payment modal closed\")\r\n            },\r\n          },\r\n          // For testing failed payments\r\n          config: {\r\n            display: {\r\n              blocks: {\r\n                utib: {\r\n                  // Axis Bank Test Cards\r\n                  name: \"Test Payment Methods\",\r\n                  instruments: [\r\n                    {\r\n                      method: \"card\",\r\n                      issuers: [\"UTIB\"],\r\n                    },\r\n                  ],\r\n                },\r\n              },\r\n              sequence: [\"block.utib\"],\r\n              preferences: {\r\n                show_default_blocks: false,\r\n              },\r\n            },\r\n          },\r\n        }\r\n\r\n        const razorpay = new window.Razorpay(options)\r\n\r\n        // For testing, you can use these test card details:\r\n        // Card Number: 4111 1111 1111 1111\r\n        // Expiry: Any future date\r\n        // CVV: Any 3 digits\r\n        // Name: Any name\r\n\r\n        razorpay.on(\"payment.failed\", (response) => {\r\n          setLoading(false)\r\n          setError(`Payment failed: ${response.error.description}`)\r\n        })\r\n\r\n        razorpay.open()\r\n      } catch (error) {\r\n        console.error(\"Error creating Razorpay order:\", error)\r\n        setError(\"Failed to initialize payment. Please try again.\")\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className=\"container py-5\">\r\n          {paymentSuccess && (\r\n            <div className=\"alert alert-success\" role=\"alert\">\r\n              Payment successful! Thank you for your order.\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"row my-4\">\r\n            <div className=\"col-md-5 col-lg-4 order-md-last\">\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header py-3 bg-light\">\r\n                  <h5 className=\"mb-0\">Order Summary</h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\">\r\n                      Products ({totalItems})<span>{'\\u20B9'}{Math.round(subtotal)}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between align-items-center px-0\">\r\n                      Shipping\r\n                      <span>{'\\u20B9'}{shipping}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3\">\r\n                      <div>\r\n                        <strong>Total amount</strong>\r\n                      </div>\r\n                      <span>\r\n                        <strong>{'\\u20B9'}{Math.round(subtotal + shipping)}</strong>\r\n                      </span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-7 col-lg-8\">\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header py-3\">\r\n                  <h4 className=\"mb-0\">Billing address</h4>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <form className=\"needs-validation\" noValidate>\r\n                    {/* Your billing address fields here */}\r\n                    <hr className=\"my-4\" />\r\n                    <h4 className=\"mb-3\">Payment</h4>\r\n\r\n                    <button\r\n                      className=\"w-100 btn btn-primary\"\r\n                      type=\"button\"\r\n                      onClick={handlePayment}\r\n                      disabled={loading || !scriptLoaded}\r\n                    >\r\n                      {loading ? (\r\n                        <>\r\n                          <span\r\n                            className=\"spinner-border spinner-border-sm me-2\"\r\n                            role=\"status\"\r\n                            aria-hidden=\"true\"\r\n                          ></span>\r\n                          Processing...\r\n                        </>\r\n                      ) : !scriptLoaded ? (\r\n                        \"Loading payment gateway...\"\r\n                      ) : (\r\n                        \"Continue to checkout\"\r\n                      )}\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container my-3 py-3\">\r\n        <h1 className=\"text-center\">Checkout</h1>\r\n        <hr />\r\n        {state.length ? <ShowCheckout /> : <EmptyCart />}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Checkout\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}